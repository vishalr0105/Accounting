<div class="container mt-4">
  <h2 class="mb-4">End-user license agreements</h2>
  <ejs-grid
    [dataSource]="eulaData"
    [allowPaging]="true"
    [pageSettings]="pageSettings"
    [allowSorting]="true"
    [allowFiltering]="true"
    [filterSettings]="filterSettings"
    [toolbar]="toolbarOptions"
    height="400"
  >
    <e-columns>
      <!-- Name Column (Clickable Link) -->
      <e-column field="title" headerText="Name" width="200">
        <ng-template #template let-data>
          <a [href]="data.currentDocumentUrl" target="_blank">
            {{ data.title }}
          </a>
        </ng-template>
      </e-column>

      <!-- Description Column -->
      <e-column field="description" headerText="Description" width="300"></e-column>

      <!-- Accepted By Column -->
      <e-column field="acceptedById" headerText="Accepted by" width="150"></e-column>

      <!-- Status Column -->
      <e-column headerText="Status" width="150">
        <ng-template #template let-data>
          <ng-container *ngIf="!data.isAccepted; else acceptedTemplate">
            <button class="btn btn-primary btn-sm" (click)="acceptEula(data)">
              Accept EULA
            </button>
          </ng-container>
          <ng-template #acceptedTemplate>
            <span class="badge bg-success text-white p-2">Accepted</span>
          </ng-template>
        </ng-template>
      </e-column>
    </e-columns>
  </ejs-grid>
</div>
